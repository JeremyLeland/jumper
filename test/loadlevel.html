<link rel="stylesheet" href="../style.css">

<body>
</body>

<script type="module">

  import * as THREE from '../lib/three.module.js';
  import { ThreeGame } from '../src/ThreeGame.js';
  import { Level } from '../src/Level.js';

  const BLOCK_WIDTH = 0.5, BLOCK_HEIGHT = 0.5, BLOCK_LENGTH = 1;

  const level = await Level.fromImageSrc( '../levels/classic/ant-thing.png' );

  const scene = new THREE.Scene();
  scene.background = new THREE.Color( 0x111122 );

  const light = new THREE.DirectionalLight( 0xffffff );
  light.position.set( 0, 1, 0.5 );
  light.target.position.set( 0, 0, 0 );
  scene.add( light );
  
  level.mesh.scale.set( BLOCK_WIDTH, BLOCK_HEIGHT, BLOCK_LENGTH );
  scene.add( level.mesh );


  const game = new ThreeGame();

  game.scene = scene;
  game.camera.position.set( level.cols * BLOCK_WIDTH / 2, 1, level.rows * BLOCK_LENGTH + 2 );

  game.update = ( dt ) => {
  }

</script>